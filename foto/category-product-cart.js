/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. MIT license */

/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */

/*!
 * jQuery UI Position 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */

/*!
 * jQuery UI Menu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */


!function(e){define("matchMedia",[],function(){return function(){return window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css",t.id="matchmediajs-test",i?i.parentNode.insertBefore(t,i):document.head.appendChild(t),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===n.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,i=!1,n=0,s=[],o=function(t){clearTimeout(n),n=setTimeout(function(){for(var t=0,i=s.length;t<i;t++){var n=s[t].mql,o=s[t].listeners||[],a=e(n.media).matches;if(a!==n.matches){n.matches=a;for(var l=0,r=o.length;l<r;l++)o[l].call(window,n)}}},30)};window.matchMedia=function(n){var a=e(n),l=[],r=0;return a.addListener=function(e){t&&(i||(i=!0,window.addEventListener("resize",o,!0)),0===r&&(r=s.push({mql:a,listeners:l})),l.push(e))},a.removeListener=function(e){for(var t=0,i=l.length;t<i;t++)l[t]===e&&l.splice(t,1)},a}}(),window.mediaCheck=function(e){function t(e,t){e.matches?"function"==typeof t.entry&&t.entry():"function"==typeof t.exit&&t.exit()}var i;i=window.matchMedia(e.media),i.addListener(function(){t(i,e)}),t(i,e)},e.mediaCheck=mediaCheck}.apply(e,arguments)})}(this),function(e){"use strict";"function"==typeof define&&define.amd?define("jquery/ui-modules/position",["jquery","./version"],e):e(jQuery)}(function(e){"use strict";return function(){function t(e,t,i){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(e){return null!=e&&e===e.window}function s(e){var t=e[0];return 9===t.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:n(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var o,a=Math.max,l=Math.abs,r=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,m=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,i,n=e("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),s=n.children()[0];return e("body").append(n),t=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),o=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),s="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=n(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:o,offset:s||o?{left:0,top:0}:e(t).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return m.apply(this,arguments);n=e.extend({},n);var o,d,f,p,v,g,x="string"==typeof n.of?e(document).find(n.of):e(n.of),y=e.position.getWithinInfo(n.within),_=e.position.getScrollInfo(y),w=(n.collision||"flip").split(" "),b={};return g=s(x),x[0].preventDefault&&(n.at="left top"),d=g.width,f=g.height,p=g.offset,v=e.extend({},p),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=h.exec(i[0]),t=h.exec(i[1]),b[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?v.left+=d:"center"===n.at[0]&&(v.left+=d/2),"bottom"===n.at[1]?v.top+=f:"center"===n.at[1]&&(v.top+=f/2),o=t(b.at,d,f),v.left+=o[0],v.top+=o[1],this.each(function(){var s,r,u=e(this),h=u.outerWidth(),c=u.outerHeight(),m=i(this,"marginLeft"),g=i(this,"marginTop"),C=h+m+i(this,"marginRight")+_.width,k=c+g+i(this,"marginBottom")+_.height,M=e.extend({},v),T=t(b.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=h:"center"===n.my[0]&&(M.left-=h/2),"bottom"===n.my[1]?M.top-=c:"center"===n.my[1]&&(M.top-=c/2),M.left+=T[0],M.top+=T[1],s={marginLeft:m,marginTop:g},e.each(["left","top"],function(t,i){e.ui.position[w[t]]&&e.ui.position[w[t]][i](M,{targetWidth:d,targetHeight:f,elemWidth:h,elemHeight:c,collisionPosition:s,collisionWidth:C,collisionHeight:k,offset:[o[0]+T[0],o[1]+T[1]],my:n.my,at:n.at,within:y,elem:u})}),n.using&&(r=function(e){var t=p.left-M.left,i=t+d-h,s=p.top-M.top,o=s+f-c,r={target:{element:x,left:p.left,top:p.top,width:d,height:f},element:{element:u,left:M.left,top:M.top,width:h,height:c},horizontal:i<0?"left":t>0?"right":"center",vertical:o<0?"top":s>0?"bottom":"middle"};d<h&&l(t+i)<d&&(r.horizontal="center"),f<c&&l(s+o)<f&&(r.vertical="middle"),a(l(t),l(i))>a(l(s),l(o))?r.important="horizontal":r.important="vertical",n.using.call(this,e,r)}),u.offset(e.extend(M,{using:r}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,l=e.left-t.collisionPosition.marginLeft,r=s-l,u=l+t.collisionWidth-o-s;t.collisionWidth>o?r>0&&u<=0?(i=e.left+r+t.collisionWidth-o-s,e.left+=r-i):e.left=u>0&&r<=0?s:r>u?s+o-t.collisionWidth:s:r>0?e.left+=r:u>0?e.left-=u:e.left=a(e.left-l,e.left)},top:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,l=e.top-t.collisionPosition.marginTop,r=s-l,u=l+t.collisionHeight-o-s;t.collisionHeight>o?r>0&&u<=0?(i=e.top+r+t.collisionHeight-o-s,e.top+=r-i):e.top=u>0&&r<=0?s:r>u?s+o-t.collisionHeight:s:r>0?e.top+=r:u>0?e.top-=u:e.top=a(e.top-l,e.top)}},flip:{left:function(e,t){var i,n,s=t.within,o=s.offset.left+s.scrollLeft,a=s.width,r=s.isWindow?s.scrollLeft:s.offset.left,u=e.left-t.collisionPosition.marginLeft,h=u-r,c=u+t.collisionWidth-a-r,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,m="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];h<0?((i=e.left+d+m+f+t.collisionWidth-a-o)<0||i<l(h))&&(e.left+=d+m+f):c>0&&((n=e.left-t.collisionPosition.marginLeft+d+m+f-r)>0||l(n)<c)&&(e.left+=d+m+f)},top:function(e,t){var i,n,s=t.within,o=s.offset.top+s.scrollTop,a=s.height,r=s.isWindow?s.scrollTop:s.offset.top,u=e.top-t.collisionPosition.marginTop,h=u-r,c=u+t.collisionHeight-a-r,d="top"===t.my[1],m=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];h<0?((n=e.top+m+f+p+t.collisionHeight-a-o)<0||n<l(h))&&(e.top+=m+f+p):c>0&&((i=e.top-t.collisionPosition.marginTop+m+f+p-r)>0||l(i)<c)&&(e.top+=m+f+p)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position}),function(e){"use strict";"function"==typeof define&&define.amd?define("jquery/ui-modules/widgets/menu",["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],e):e(jQuery)}(function(e){"use strict";return e.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(t){var i=e(t.target),n=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this._menuItems().first();t||this.focus(e,i)},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(t){if(!this.previousFilter&&(t.clientX!==this.lastMousePosition.x||t.clientY!==this.lastMousePosition.y)){this.lastMousePosition={x:t.clientX,y:t.clientY};var i=e(t.target).closest(".ui-menu-item"),n=e(t.currentTarget);i[0]===n[0]&&(n.is(".ui-state-active")||(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,n)))}},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,n,s,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,n=this.previousFilter||"",o=!1,s=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),s===n?o=!0:s=n+s,i=this._filterMenuItems(s),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(s=String.fromCharCode(t.keyCode),i=this._filterMenuItems(s)),i.length?(this.focus(t,i),this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,n,s,o,a=this,l=this.options.icons.submenu,r=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=r.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev(),n=e("<span>").data("ui-menu-submenu-caret",!0);a._addClass(n,"ui-menu-icon","ui-icon "+l),i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),t=r.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);a._isDivider(t)&&a._addClass(t,"ui-menu-divider","ui-widget-content")}),s=i.not(".ui-menu-item, .ui-menu-divider"),o=s.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(s,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,n,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),s=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,s,o,a,l;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),l=t.outerHeight(),s<0?this.activeMenu.scrollTop(o+s):s+l>a&&this.activeMenu.scrollTop(o+s-a+l))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},i?0:this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this._menuItems(this.active.children(".ui-menu")).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").last():this.active[e+"All"](".ui-menu-item").first()),n&&n.length&&this.active||(n=this._menuItems(this.activeMenu)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,s;if(!this.active)return void this.next(t);this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.innerHeight(),0===e.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-s<0}),this.focus(t,i)):this.focus(t,this._menuItems(this.activeMenu)[this.active?"last":"first"]()))},previousPage:function(t){var i,n,s;if(!this.active)return void this.next(t);this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.innerHeight(),0===e.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+s>0}),this.focus(t,i)):this.focus(t,this._menuItems(this.activeMenu).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(String.prototype.trim.call(e(this).children(".ui-menu-item-wrapper").text()))})}})}),define("mage/menu",["jquery","matchMedia","jquery-ui-modules/menu","mage/translate"],function(e,t){"use strict";return e.widget("mage.menu",e.ui.menu,{options:{responsive:!1,expanded:!1,showDelay:42,hideDelay:300,delay:0,mediaBreakpoint:"(max-width: 768px)"},_create:function(){var t=this;this.delay=this.options.delay,this._super(),e(window).on("resize",function(){t.element.find(".submenu-reverse").removeClass("submenu-reverse")})},_init:function(){this._super(),!0===this.options.expanded&&this.isExpanded(),!0===this.options.responsive&&t({media:this.options.mediaBreakpoint,entry:e.proxy(function(){this._toggleMobileMode()},this),exit:e.proxy(function(){this._toggleDesktopMode()},this)}),this._assignControls()._listen(),this._setActiveMenu()},_assignControls:function(){return this.controls={toggleBtn:e('[data-action="toggle-nav"]')},this},_listen:function(){var e=this.controls,t=this.toggle;e.toggleBtn.off("click"),e.toggleBtn.on("click",t.bind(this))},toggle:function(){var t=e("html");t.hasClass("nav-open")?(t.removeClass("nav-open"),setTimeout(function(){t.removeClass("nav-before-open")},this.options.hideDelay)):(t.addClass("nav-before-open"),setTimeout(function(){t.addClass("nav-open")},this.options.showDelay))},_setActiveMenu:function(){var e=window.location.href.split("?")[0];this._setActiveMenuForCategory(e)||this._setActiveMenuForProduct(e)},_setActiveMenuForCategory:function(e){var t,i,n=this.element.find('a[href="'+e+'"]');return!(!n||!n.hasClass("ui-menu-item-wrapper"))&&(n.parent().hasClass("active")||(n.parent().addClass("active"),t=n.parent().attr("class"),(i=t.match(/(nav\-)[0-9]+(\-[0-9]+)+/gi))&&this._setActiveParent(i[0])),!0)},_setActiveParent:function(e){var t,i=e.substr(0,e.lastIndexOf("-"));-1!==i.lastIndexOf("-")&&(t=this.element.find("."+i),t&&t.addClass("has-active"),this._setActiveParent(i))},_setActiveMenuForProduct:function(e){var t,i,n,s=this.element.find("> li a").attr("href");s&&(i=s.substr(s.lastIndexOf("/")),t=-1!==i.lastIndexOf(".")?i.substr(i.lastIndexOf(".")):"",n=e.substr(0,e.lastIndexOf("/"))+t,this._setActiveMenuForCategory(n))},isExpanded:function(){this.element.find(this.options.menus).find(this.options.menus).addClass("expanded")},_activate:function(e){window.location.href=this.active.find("> a").attr("href"),this.collapseAll(e)},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,s,o,a,l,r=!0;if("true"!=this.active.closest(this.options.menus).attr("aria-expanded"))switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.LEFT:this.previous(t);break;case e.ui.keyCode.RIGHT:this.next(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,s=this.previousFilter||"",o=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),o===s?a=!0:o=s+o,l=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return l.test(e(this).children("a").text())}),n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(t.keyCode),l=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return l.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}else switch(t.keyCode){case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.LEFT:case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,s=this.previousFilter||"",o=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),o===s?a=!0:o=s+o,l=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return l.test(e(this).children("a").text())}),n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(t.keyCode),l=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return l.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}r&&t.preventDefault()},_toggleMobileMode:function(){var t;e(this.element).off("mouseenter mouseleave"),this._on({"click .ui-menu-item:has(a)":function(t){var i;t.preventDefault(),i=e(t.target).closest(".ui-menu-item"),i.get(0).scrollIntoView(),i.hasClass("level-top")&&i.has(".ui-menu").length||(window.location.href=i.find("> a").attr("href"))},"click .ui-menu-item:has(.ui-state-active)":function(e){this.collapseAll(e,!0)}}),t=this.element.find(".level-top"),e.each(t,e.proxy(function(t,i){var n=e(i).find("> a span").not(".ui-menu-icon").text(),s=e(i).find("> a").attr("href"),o=e(i).find("> .ui-menu");this.categoryLink=e("<a>").attr("href",s).text(e.mage.__("All %1").replace("%1",n)),this.categoryParent=e("<li>").addClass("ui-menu-item all-category").html(this.categoryLink),0===o.find(".all-category").length&&o.prepend(this.categoryParent)},this))},_toggleDesktopMode:function(){var t,i;e(this.element).off("click mousedown mouseenter mouseleave"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i,n,s,o,a,l=e(t.currentTarget),r=this.options.menus;l.has(r)&&(i=l.find(r),n=i.outerWidth(!0),s=2*l.outerWidth(),o=l.offset().left,a=e(window).width(),n+s+o>a&&i.addClass("submenu-reverse"),o-n<0&&i.removeClass("submenu-reverse")),l.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,l)},mouseleave:function(e){this.collapseAll(e,!0)},"mouseleave .ui-menu":"collapseAll"}),t=this.element.find(".all-category"),i=e("html"),t.remove(),i.hasClass("nav-open")&&(i.removeClass("nav-open"),setTimeout(function(){i.removeClass("nav-before-open")},this.options.hideDelay))},_delay:function(e,t){var i=this,n=function(){return("string"==typeof e?i[e]:e).apply(i,arguments)};return setTimeout(n,t||0)},expand:function(e){var t=this.active&&this.active.children(".ui-menu").children(".ui-menu-item").first();if(t&&t.length){if(t.closest(".ui-menu").is(":visible")&&t.closest(".ui-menu").has(".all-categories"))return;this.active.siblings().children(".ui-state-active").removeClass("ui-state-active"),this._open(t.parent()),this._delay(function(){this.focus(e,t)})}},select:function(t){var i;this.active=this.active||e(t.target).closest(".ui-menu-item"),this.active.is(".all-category")&&(this.active=e(t.target).closest(".ui-menu-item")),i={item:this.active},this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}}),e.widget("mage.navigation",e.mage.menu,{options:{responsiveAction:"wrap",maxItems:null,container:"#menu",moreText:e.mage.__("more"),breakpoint:768},_init:function(){var t,i;this._super(),t=this,i=this.options.responsiveAction,this.element.addClass("ui-menu-responsive").attr("responsive","main"),this.setupMoreMenu(),this.setMaxItems(),"onResize"==i?e(window).on("resize",function(){e(window).width()>t.options.breakpoint?(t._responsive(),e("[responsive=more]").show()):(t.element.children().show(),e("[responsive=more]").hide())}):"onReload"==i&&this._responsive()},setupMoreMenu:function(){var t=this.element.children().clone(),i=e("<a>"+this.options.moreText+"</a>");t.hide(),i.attr("href","#"),this.moreItemsList=e("<ul>").append(t),this.moreListContainer=e("<li>").append(i).append(this.moreItemsList),this.responsiveMenu=e("<ul>").addClass("ui-menu-more").attr("responsive","more").append(this.moreListContainer).menu({position:{my:"right top",at:"right bottom"}}).insertAfter(this.element)},_responsive:function(){var t=e(this.options.container),i=t.width(),n=0,s=this.element.children("li"),o=e(".ui-menu-more > li > ul > li a");s=s.map(function(){var t={};return t.item=e(this),t.itemSize=e(this).outerWidth(),t}),e.each(s,function(t){var a=s[t].item.find("a:first").text();n+=parseInt(s[t].itemSize,null),n<i?(s[t].item.show(),o.each(function(){e(this).text()===a&&e(this).parent().hide()})):n>i&&(s[t].item.hide(),o.each(function(){e(this).text()===a&&e(this).parent().show()}))})},setMaxItems:function(){var t=this.element.children("li"),i=t.length,n=this.options.maxItems,s=i-n,o=t.slice(s);o.hide(),o.each(function(){var t=e(this).find("a:first").text();e(this).hide(),e(".ui-menu-more > li > ul > li a").each(function(){e(this).text()===t&&e(this).parent().show()})})}}),{menu:e.mage.menu,navigation:e.mage.navigation}}),define("text!Magento_Tax/template/checkout/minicart/subtotal/totals.html",[],function(){return'\x3c!--\n/**\n * Copyright Â© Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n--\x3e\n\n<div class="amount price-container">\n    \x3c!-- ko if: displaySubtotal() --\x3e\n        \x3c!-- ko if: display_cart_subtotal_excl_tax --\x3e\n            <span class="price-wrapper" data-bind="html: cart().subtotal_excl_tax"></span>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: !display_cart_subtotal_excl_tax && display_cart_subtotal_incl_tax --\x3e\n            <span class="price-wrapper" data-bind="html: cart().subtotal_incl_tax"></span>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: !display_cart_subtotal_excl_tax && !display_cart_subtotal_incl_tax --\x3e\n            <span class="price-wrapper price-including-tax"\n                  data-bind="attr: { \'data-label\': $t(\'Incl. Tax\') }, html: cart().subtotal_incl_tax">\n            </span>\n\n            <span class="price-wrapper price-excluding-tax"\n                  data-bind="attr: { \'data-label\': $t(\'Excl. Tax\') }, html: cart().subtotal_excl_tax">\n            </span>\n        \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko ifnot: displaySubtotal() --\x3e\n        \x3c!-- ko foreach: getRegion(\'minicart-subtotal-hidden\') --\x3e\n            \x3c!-- ko template: getTemplate() --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n'}),define("bundles/category-product-cart",function(){});
//# sourceMappingURL=category-product-cart.js.map